{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/layout/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/header.tsx <module evaluation>\",\n    \"Header\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,8DACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/layout/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/header.tsx\",\n    \"Header\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,0CACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/layout/footer.tsx"],"sourcesContent":["import Link from \"next/link\"\nimport { Mail, Phone, MapPin } from \"lucide-react\"\n\nexport function Footer() {\n  return (\n    <footer className=\"border-t bg-muted/50\">\n      <div className=\"container px-4 py-12 md:px-6\">\n        <div className=\"grid gap-8 md:grid-cols-2 lg:grid-cols-4\">\n          {/* About */}\n          <div>\n            <h2 className=\"mb-4 text-lg font-semibold\">Om Teateret</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              Vi er et lokalt teater med fokus p책 kvalitetsforestillinger for hele familien. Opplev magien p책 scenen\n              eller hjemmefra med v책re digitale opptak.\n            </p>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <h2 className=\"mb-4 text-lg font-semibold\">Snarveier</h2>\n            <nav className=\"flex flex-col gap-2\">\n              <Link href=\"/forestillinger\" className=\"text-muted-foreground hover:text-foreground transition-colors\">\n                Forestillinger\n              </Link>\n              <Link href=\"/opptak\" className=\"text-muted-foreground hover:text-foreground transition-colors\">\n                Digitale opptak\n              </Link>\n              <Link href=\"/om-oss\" className=\"text-muted-foreground hover:text-foreground transition-colors\">\n                Om oss\n              </Link>\n              <Link href=\"/kontakt\" className=\"text-muted-foreground hover:text-foreground transition-colors\">\n                Kontakt\n              </Link>\n            </nav>\n          </div>\n\n          {/* Contact */}\n          <div>\n            <h2 className=\"mb-4 text-lg font-semibold\">Kontakt</h2>\n            <address className=\"flex flex-col gap-3 not-italic text-muted-foreground\">\n              <a\n                href=\"mailto:kontakt@teateret.no\"\n                className=\"flex items-center gap-2 hover:text-foreground transition-colors\"\n              >\n                <Mail className=\"h-5 w-5\" aria-hidden=\"true\" />\n                kontakt@teateret.no\n              </a>\n              <a href=\"tel:+4712345678\" className=\"flex items-center gap-2 hover:text-foreground transition-colors\">\n                <Phone className=\"h-5 w-5\" aria-hidden=\"true\" />\n                +47 123 45 678\n              </a>\n              <span className=\"flex items-center gap-2\">\n                <MapPin className=\"h-5 w-5\" aria-hidden=\"true\" />\n                Teaterveien 1, 0123 Oslo\n              </span>\n            </address>\n          </div>\n\n          {/* Accessibility */}\n          <div>\n            <h2 className=\"mb-4 text-lg font-semibold\">Tilgjengelighet</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              Vi jobber for at alle skal kunne nyte teater. Kontakt oss for informasjon om tilrettelegging,\n              rullestoltilgang og tegnspr책ktolking.\n            </p>\n          </div>\n        </div>\n\n        <div className=\"mt-12 border-t pt-8 text-center text-muted-foreground\">\n          <p>&copy; {new Date().getFullYear()} Teateret. Alle rettigheter reservert.</p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AAEO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,8OAAC;oCAAE,WAAU;8CAAwC;;;;;;;;;;;;sCAOvD,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0LAAI;4CAAC,MAAK;4CAAkB,WAAU;sDAAgE;;;;;;sDAGvG,8OAAC,0LAAI;4CAAC,MAAK;4CAAU,WAAU;sDAAgE;;;;;;sDAG/F,8OAAC,0LAAI;4CAAC,MAAK;4CAAU,WAAU;sDAAgE;;;;;;sDAG/F,8OAAC,0LAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAgE;;;;;;;;;;;;;;;;;;sCAOpG,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,8OAAC;oCAAQ,WAAU;;sDACjB,8OAAC;4CACC,MAAK;4CACL,WAAU;;8DAEV,8OAAC,0MAAI;oDAAC,WAAU;oDAAU,eAAY;;;;;;gDAAS;;;;;;;sDAGjD,8OAAC;4CAAE,MAAK;4CAAkB,WAAU;;8DAClC,8OAAC,6MAAK;oDAAC,WAAU;oDAAU,eAAY;;;;;;gDAAS;;;;;;;sDAGlD,8OAAC;4CAAK,WAAU;;8DACd,8OAAC,oNAAM;oDAAC,WAAU;oDAAU,eAAY;;;;;;gDAAS;;;;;;;;;;;;;;;;;;;sCAOvD,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,8OAAC;oCAAE,WAAU;8CAAwC;;;;;;;;;;;;;;;;;;8BAOzD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;;4BAAE;4BAAQ,IAAI,OAAO,WAAW;4BAAG;;;;;;;;;;;;;;;;;;;;;;;AAK9C"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/booking/seat-selector.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SeatSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call SeatSelector() from the server but SeatSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/booking/seat-selector.tsx <module evaluation>\",\n    \"SeatSelector\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,sEACA","ignoreList":[0]}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/booking/seat-selector.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SeatSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call SeatSelector() from the server but SeatSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/booking/seat-selector.tsx\",\n    \"SeatSelector\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kDACA","ignoreList":[0]}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { createClient } from \"@supabase/supabase-js\"\nimport { cookies } from \"next/headers\"\n\nexport async function getSupabaseServerClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // Server Component - ignore\n        }\n      },\n    },\n  })\n}\n\nexport async function getSupabaseAdminClient() {\n  // Use createClient with service role key to bypass RLS\n  // Do NOT use createServerClient with service role key - it still respects RLS\n  return createClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.SUPABASE_SERVICE_ROLE_KEY!, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false,\n    },\n  })\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,4BAA4B;gBAC9B;YACF;QACF;IACF;AACF;AAEO,eAAe;IACpB,uDAAuD;IACvD,8EAA8E;IAC9E,OAAO,IAAA,uLAAY,gFAAwC,QAAQ,GAAG,CAAC,yBAAyB,EAAG;QACjG,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;QAClB;IACF;AACF"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/app/bestill/%5BshowId%5D/page.tsx"],"sourcesContent":["import { notFound, redirect } from \"next/navigation\"\nimport { Header } from \"@/components/layout/header\"\nimport { Footer } from \"@/components/layout/footer\"\nimport { SeatSelector } from \"@/components/booking/seat-selector\"\nimport { getSupabaseServerClient } from \"@/lib/supabase/server\"\n\nexport const dynamic = \"force-dynamic\"\n\ninterface PageProps {\n  params: Promise<{ showId: string }>\n}\n\nasync function getShowData(showId: string) {\n  const supabase = await getSupabaseServerClient()\n\n  const { data: show } = await supabase\n    .from(\"shows\")\n    .select(`\n      *,\n      ensemble:ensembles(*),\n      venue:venues(*)\n    `)\n    .eq(\"id\", showId)\n    .single()\n\n  if (!show) return null\n\n  // Get or create seats for this show\n  let { data: seats } = await supabase.from(\"seats\").select(\"*\").eq(\"show_id\", showId)\n\n  if (!seats || seats.length === 0) {\n    const seatMapConfig = show.venue?.seat_map_config\n\n    if (seatMapConfig) {\n      const seatsToCreate: Array<{\n        show_id: string\n        section: string\n        row: string\n        number: number\n        price_nok: number\n        status: string\n      }> = []\n\n      // Check which format the seat_map_config uses\n      if (seatMapConfig.sections) {\n        // Format: { sections: [{ name, rows: [{ number, seats: [] }] }] }\n        for (const section of seatMapConfig.sections) {\n          for (const row of section.rows) {\n            for (const seatNum of row.seats) {\n              seatsToCreate.push({\n                show_id: showId,\n                section: section.name,\n                row: row.number,\n                number: seatNum,\n                price_nok: show.base_price_nok,\n                status: \"available\",\n              })\n            }\n          }\n        }\n      } else if (seatMapConfig.rows && seatMapConfig.seatsPerRow) {\n        // Format: { rows: number, seatsPerRow: number }\n        const rowLabels = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n        for (let r = 0; r < seatMapConfig.rows; r++) {\n          const rowLabel = rowLabels[r] || `R${r + 1}`\n          for (let s = 1; s <= seatMapConfig.seatsPerRow; s++) {\n            seatsToCreate.push({\n              show_id: showId,\n              section: \"Hovedsal\",\n              row: rowLabel,\n              number: s,\n              price_nok: show.base_price_nok,\n              status: \"available\",\n            })\n          }\n        }\n      }\n\n      if (seatsToCreate.length > 0) {\n        await supabase.from(\"seats\").insert(seatsToCreate)\n        const { data: newSeats } = await supabase.from(\"seats\").select(\"*\").eq(\"show_id\", showId)\n        seats = newSeats\n      }\n    }\n  }\n\n  return { show, seats: seats || [] }\n}\n\nexport async function generateMetadata({ params }: PageProps) {\n  const { showId } = await params\n  const data = await getShowData(showId)\n\n  if (!data) {\n    return { title: \"Forestilling ikke funnet | Teateret\" }\n  }\n\n  const title = data.show.title || data.show.ensemble?.title || \"Forestilling\"\n  return {\n    title: `Bestill billetter - ${title} | Teateret`,\n    description: `Velg seter og bestill billetter til ${title}`,\n  }\n}\n\nexport default async function BookingPage({ params }: PageProps) {\n  const { showId } = await params\n  const data = await getShowData(showId)\n\n  if (!data) {\n    notFound()\n  }\n\n  const { show, seats } = data\n\n  // Check if show is available for booking\n  if (show.status === \"cancelled\") {\n    redirect(\"/forestillinger?message=cancelled\")\n  }\n\n  if (show.status === \"sold_out\") {\n    redirect(\"/forestillinger?message=soldout\")\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col\">\n      <Header />\n\n      <main id=\"hovedinnhold\" className=\"flex-1\">\n        <SeatSelector show={show} seats={seats} />\n      </main>\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}