{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV;KArBS"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 440, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/lib/utils/booking.ts"],"sourcesContent":["import crypto from \"crypto\"\n\nconst QR_SECRET = process.env.QR_SIGNING_SECRET || \"default-secret-change-in-production\"\n\nexport function generateBookingReference(): string {\n  const date = new Date()\n  const dateStr = date.toISOString().slice(0, 10).replace(/-/g, \"\")\n  const randomPart = crypto.randomBytes(2).toString(\"hex\").toUpperCase()\n  return `THTR-${dateStr}-${randomPart}`\n}\n\nexport function generateQRSignature(data: object): string {\n  const payload = JSON.stringify(data)\n  return crypto.createHmac(\"sha256\", QR_SECRET).update(payload).digest(\"hex\")\n}\n\nexport function verifyQRSignature(data: object, signature: string): boolean {\n  const expectedSignature = generateQRSignature(data)\n  return crypto.timingSafeEqual(Buffer.from(signature), Buffer.from(expectedSignature))\n}\n\nexport function createQRCodeData(\n  bookingId: string,\n  reference: string,\n  showId: string,\n  showTitle: string,\n  showDatetime: string,\n  customerName: string,\n  seats: Array<{ section: string; row: string; number: number }>,\n) {\n  const dataWithoutSignature = {\n    booking_id: bookingId,\n    reference,\n    show_id: showId,\n    show_title: showTitle,\n    show_datetime: showDatetime,\n    customer_name: customerName,\n    seats,\n    checked_in: false,\n  }\n\n  const signature = generateQRSignature(dataWithoutSignature)\n\n  return {\n    ...dataWithoutSignature,\n    signature,\n  }\n}\n\nexport function formatPrice(amount: number): string {\n  return new Intl.NumberFormat(\"nb-NO\", {\n    style: \"currency\",\n    currency: \"NOK\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount)\n}\n\nexport function formatDate(dateString: string): string {\n  return new Intl.DateTimeFormat(\"nb-NO\", {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(new Date(dateString))\n}\n\nexport function formatTime(dateString: string): string {\n  return new Intl.DateTimeFormat(\"nb-NO\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(new Date(dateString))\n}\n\nexport function formatDateTime(dateString: string): string {\n  return `${formatDate(dateString)} kl. ${formatTime(dateString)}`\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAEkB;AAgBc;AAlBhC;;AAEA,MAAM,YAAY,2KAAO,CAAC,GAAG,CAAC,iBAAiB,IAAI;AAE5C,SAAS;IACd,MAAM,OAAO,IAAI;IACjB,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC,MAAM;IAC9D,MAAM,aAAa,uLAAM,CAAC,WAAW,CAAC,GAAG,QAAQ,CAAC,OAAO,WAAW;IACpE,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,YAAY;AACxC;AAEO,SAAS,oBAAoB,IAAY;IAC9C,MAAM,UAAU,KAAK,SAAS,CAAC;IAC/B,OAAO,uLAAM,CAAC,UAAU,CAAC,UAAU,WAAW,MAAM,CAAC,SAAS,MAAM,CAAC;AACvE;AAEO,SAAS,kBAAkB,IAAY,EAAE,SAAiB;IAC/D,MAAM,oBAAoB,oBAAoB;IAC9C,OAAO,uLAAM,CAAC,eAAe,CAAC,wKAAM,CAAC,IAAI,CAAC,YAAY,wKAAM,CAAC,IAAI,CAAC;AACpE;AAEO,SAAS,iBACd,SAAiB,EACjB,SAAiB,EACjB,MAAc,EACd,SAAiB,EACjB,YAAoB,EACpB,YAAoB,EACpB,KAA8D;IAE9D,MAAM,uBAAuB;QAC3B,YAAY;QACZ;QACA,SAAS;QACT,YAAY;QACZ,eAAe;QACf,eAAe;QACf;QACA,YAAY;IACd;IAEA,MAAM,YAAY,oBAAoB;IAEtC,OAAO;QACL,GAAG,oBAAoB;QACvB;IACF;AACF;AAEO,SAAS,YAAY,MAAc;IACxC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,WAAW,UAAkB;IAC3C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,SAAS;QACT,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAEO,SAAS,WAAW,UAAkB;IAC3C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAEO,SAAS,eAAe,UAAkB;IAC/C,OAAO,GAAG,WAAW,YAAY,KAAK,EAAE,WAAW,aAAa;AAClE"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///Users/sondrey/Downloads/v0-teaterplattform-utviklingsplan-main%202/components/admin/qr-scanner.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect, useRef, useCallback } from \"react\"\nimport { Html5Qrcode, Html5QrcodeScanner } from \"html5-qrcode\"\nimport { Camera, Keyboard, CheckCircle, XCircle, AlertTriangle, Loader2, Users, Scan, AlertCircle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport { formatDateTime } from \"@/lib/utils/booking\"\n\ninterface ScanResult {\n  status: \"success\" | \"error\" | \"warning\"\n  message: string\n  booking?: {\n    id: string\n    reference: string\n    customerName: string\n    showTitle: string\n    showDatetime: string\n    seats: Array<{ section: string; row: string; number: number }>\n    specialRequests?: string\n    alreadyCheckedIn: boolean\n  }\n}\n\nexport function QRScanner() {\n  const [mode, setMode] = useState<\"camera\" | \"manual\">(\"manual\") // Default to manual to avoid camera permission issues on load\n  const [manualCode, setManualCode] = useState(\"\")\n  const [isScanning, setIsScanning] = useState(false)\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [result, setResult] = useState<ScanResult | null>(null)\n  const [autoCheckIn, setAutoCheckIn] = useState(true)\n  const [lastScannedCode, setLastScannedCode] = useState<string | null>(null)\n  const [cameraError, setCameraError] = useState<string | null>(null)\n  const scannerRef = useRef<Html5Qrcode | null>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const processingRef = useRef(false)\n  const cameraStartedRef = useRef(false)\n\n  useEffect(() => {\n    return () => {\n      if (scannerRef.current && cameraStartedRef.current) {\n        scannerRef.current.stop().catch(() => {})\n      }\n    }\n  }, [])\n\n  const handleScan = useCallback(\n    async (data: string) => {\n      // Prevent duplicate scans\n      if (processingRef.current || data === lastScannedCode) return\n\n      processingRef.current = true\n      setIsProcessing(true)\n      setLastScannedCode(data)\n\n      try {\n        // First verify the ticket\n        const response = await fetch(\"/api/admin/verify-ticket\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ qrData: data }),\n        })\n\n        const verifyResult = await response.json()\n\n        // If valid and auto-check-in enabled, and not already checked in\n        if (\n          verifyResult.status === \"success\" &&\n          autoCheckIn &&\n          verifyResult.booking &&\n          !verifyResult.booking.alreadyCheckedIn\n        ) {\n          // Auto check-in\n          const checkInResponse = await fetch(\"/api/admin/check-in\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ bookingId: verifyResult.booking.id }),\n          })\n\n          const checkInResult = await checkInResponse.json()\n\n          if (checkInResult.success) {\n            setResult({\n              status: \"success\",\n              message: \"Billett automatisk sjekket inn!\",\n              booking: { ...verifyResult.booking, alreadyCheckedIn: true },\n            })\n          } else {\n            setResult({\n              status: \"error\",\n              message: checkInResult.error || \"Kunne ikke sjekke inn\",\n              booking: verifyResult.booking,\n            })\n          }\n        } else {\n          setResult(verifyResult)\n        }\n      } catch (err) {\n        console.error(\"[v0] Scan error:\", err)\n        setResult({\n          status: \"error\",\n          message: \"Kunne ikke verifisere billett. Pr√∏v igjen.\",\n        })\n      } finally {\n        processingRef.current = false\n        setIsProcessing(false)\n\n        // Reset last scanned code after 3 seconds to allow re-scanning same code\n        setTimeout(() => {\n          setLastScannedCode(null)\n        }, 3000)\n      }\n    },\n    [autoCheckIn, lastScannedCode],\n  )\n\n  const startScanner = async () => {\n    if (!containerRef.current || cameraStartedRef.current) return\n\n    try {\n      setCameraError(null)\n      \n      // Create a new scanner instance\n      scannerRef.current = new Html5Qrcode(\"qr-reader\")\n\n      // Attempt to get available cameras\n      // This will work on any domain - camera access is handled by browser permissions\n      let cameras: any[] | null = null\n      \n      try {\n        cameras = await Html5Qrcode.getCameras()\n      } catch (cameraErr) {\n        const cameraErrMsg = cameraErr instanceof Error ? cameraErr.message : String(cameraErr)\n        console.error(\"[v0] Camera enumeration error:\", cameraErrMsg)\n        \n        // Provide user-friendly error message\n        let userMessage = \"Kamera ikke tilgjengelig\"\n        \n        if (cameraErrMsg.toLowerCase().includes(\"permission\") || \n            cameraErrMsg.toLowerCase().includes(\"denied\") ||\n            cameraErrMsg.toLowerCase().includes(\"notallowed\")) {\n          userMessage = \"üì± Kameratillatelse avvist.\\n\\nL√∏sning:\\n1. Klikk p√• ikonene i adresselinjen\\n2. Finn \\\"Kamera\\\" eller \\\"Tillatelser\\\"\\n3. Velg \\\"Tillat\\\"\\n4. Pr√∏v igjen\"\n        } else if (cameraErrMsg.toLowerCase().includes(\"no camera\") || \n                   cameraErrMsg.toLowerCase().includes(\"notfound\")) {\n          userMessage = \"‚ùå Ingen kamera funnet p√• enheten.\\n\\nBruk manuell inngang i stedet.\"\n        } else if (cameraErrMsg.toLowerCase().includes(\"secure\") || \n                   cameraErrMsg.toLowerCase().includes(\"https\")) {\n          userMessage = \"üîí Sikkerhetskrav: Bruk HTTPS eller sp√∏r IT-st√∏tte\\n\\nBruk manuell inngang i stedet.\"\n        } else {\n          userMessage = `Kamerafeil: ${cameraErrMsg}\\n\\nBruk manuell inngang i stedet.`\n        }\n        \n        throw new Error(userMessage)\n      }\n\n      if (!cameras || cameras.length === 0) {\n        throw new Error(\"Ingen kameraer tilgjengelig p√• enheten.\\n\\nBruk manuell inngang i stedet.\")\n      }\n\n      console.log(\"[v0] Available cameras:\", cameras)\n\n      // Use the back camera if available, otherwise the first camera\n      const backCamera = cameras.find((c) => \n        c.label.toLowerCase().includes(\"back\") || \n        c.label.toLowerCase().includes(\"rear\") ||\n        c.label.toLowerCase().includes(\"environment\")\n      )\n      const cameraId = backCamera?.id || cameras[0].id\n\n      console.log(\"[v0] Starting camera with ID:\", cameraId)\n\n      await scannerRef.current.start(\n        cameraId,\n        {\n          fps: 15,\n          qrbox: { width: 250, height: 250 },\n          aspectRatio: 1.0,\n          disableFlip: false,\n        },\n        async (decodedText) => {\n          console.log(\"[v0] QR code decoded:\", decodedText)\n          await handleScan(decodedText)\n        },\n        (errorMessage) => {\n          // Silently ignore frame errors (continuous scanning errors)\n          if (errorMessage && !errorMessage.includes(\"NotFoundException\")) {\n            // Only log if it's a real error, not a scan failure\n            if (!errorMessage.includes(\"No QR code found\")) {\n              console.debug(\"[v0] Scanner frame info:\", errorMessage)\n            }\n          }\n        },\n      )\n\n      cameraStartedRef.current = true\n      setIsScanning(true)\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err)\n      console.error(\"[v0] Scanner startup error:\", errorMessage)\n\n      // Format error message for user\n      const userMessage = errorMessage.includes(\"\\n\") \n        ? errorMessage \n        : `‚ùå Kunne ikke starte kamera:\\n${errorMessage}\\n\\nBruk manuell inngang i stedet.`\n\n      setCameraError(userMessage)\n      setResult({\n        status: \"error\",\n        message: userMessage,\n      })\n      \n      // Optionally switch to manual mode automatically\n      console.info(\"[v0] Suggest switching to manual mode\")\n    }\n  }\n\n  const stopScanner = async () => {\n    if (scannerRef.current && cameraStartedRef.current) {\n      try {\n        await scannerRef.current.stop()\n        cameraStartedRef.current = false\n        setIsScanning(false)\n        setCameraError(null)\n      } catch (err) {\n        console.error(\"[v0] Error stopping scanner:\", err)\n      }\n    }\n  }\n\n  const handleManualSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!manualCode.trim()) return\n\n    setIsProcessing(true)\n\n    try {\n      const response = await fetch(\"/api/admin/verify-ticket\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ bookingReference: manualCode.trim().toUpperCase() }),\n      })\n\n      const verifyResult = await response.json()\n\n      // If valid and auto-check-in enabled, and not already checked in\n      if (\n        verifyResult.status === \"success\" &&\n        autoCheckIn &&\n        verifyResult.booking &&\n        !verifyResult.booking.alreadyCheckedIn\n      ) {\n        const checkInResponse = await fetch(\"/api/admin/check-in\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ bookingId: verifyResult.booking.id }),\n        })\n\n        const checkInResult = await checkInResponse.json()\n\n        if (checkInResult.success) {\n          setResult({\n            status: \"success\",\n            message: \"Billett sjekket inn!\",\n            booking: { ...verifyResult.booking, alreadyCheckedIn: true },\n          })\n        } else {\n          setResult({\n            status: \"error\",\n            message: checkInResult.error || \"Kunne ikke sjekke inn\",\n            booking: verifyResult.booking,\n          })\n        }\n      } else {\n        setResult(verifyResult)\n      }\n    } catch {\n      setResult({\n        status: \"error\",\n        message: \"Kunne ikke verifisere billett. Pr√∏v igjen.\",\n      })\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  const handleCheckIn = async () => {\n    if (!result?.booking) return\n\n    setIsProcessing(true)\n\n    try {\n      const response = await fetch(\"/api/admin/check-in\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ bookingId: result.booking.id }),\n      })\n\n      const checkInResult = await response.json()\n\n      if (checkInResult.success) {\n        setResult({\n          status: \"success\",\n          message: \"Billett sjekket inn!\",\n          booking: { ...result.booking, alreadyCheckedIn: true },\n        })\n      } else {\n        setResult({\n          status: \"error\",\n          message: checkInResult.error || \"Kunne ikke sjekke inn\",\n        })\n      }\n    } catch {\n      setResult({\n        status: \"error\",\n        message: \"Feil ved innsjekking\",\n      })\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  const clearResult = () => {\n    setResult(null)\n    setManualCode(\"\")\n    setLastScannedCode(null)\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      <Card>\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Scan className=\"h-5 w-5 text-primary\" />\n              <Label htmlFor=\"auto-checkin\" className=\"font-medium\">\n                Automatisk innsjekking\n              </Label>\n            </div>\n            <Switch id=\"auto-checkin\" checked={autoCheckIn} onCheckedChange={setAutoCheckIn} />\n          </div>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            {autoCheckIn\n              ? \"Billetter sjekkes inn automatisk n√•r QR-koden leses\"\n              : \"Du m√• manuelt bekrefte innsjekking for hver billett\"}\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Mode Toggle */}\n      <div className=\"flex gap-2\">\n        <Button\n          variant={mode === \"camera\" ? \"default\" : \"outline\"}\n          onClick={() => {\n            setMode(\"camera\")\n            clearResult()\n          }}\n          className=\"flex-1\"\n        >\n          <Camera className=\"mr-2 h-5 w-5\" />\n          üì∏ Kamera\n        </Button>\n        <Button\n          variant={mode === \"manual\" ? \"default\" : \"outline\"}\n          onClick={() => {\n            setMode(\"manual\")\n            stopScanner()\n            clearResult()\n          }}\n          className=\"flex-1 bg-blue-600 hover:bg-blue-700\"\n        >\n          <Keyboard className=\"mr-2 h-5 w-5\" />\n          ‚å®Ô∏è Manuell (Anbefalt)\n        </Button>\n      </div>\n\n      {/* Scanner / Manual Input */}\n      <Card>\n        <CardContent className=\"p-6\">\n      {cameraError && (\n        <Alert variant=\"destructive\" className=\"mb-4\">\n          <AlertCircle className=\"h-4 w-4\" />\n          <AlertTitle>Kamerafeil</AlertTitle>\n          <AlertDescription className=\"whitespace-pre-wrap text-sm font-mono\">\n            {cameraError}\n          </AlertDescription>\n        </Alert>\n      )}          {mode === \"camera\" ? (\n            <div className=\"space-y-4\">\n              <div\n                id=\"qr-reader\"\n                ref={containerRef}\n                className=\"w-full aspect-square bg-muted rounded-lg overflow-hidden\"\n              />\n\n              {isScanning && (\n                <div className=\"flex items-center justify-center gap-2 text-primary\">\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  <span className=\"text-sm font-medium\">Skanner aktivt - hold QR-kode foran kamera</span>\n                </div>\n              )}\n\n              {isProcessing && (\n                <div className=\"flex items-center justify-center gap-2 text-primary\">\n                  <Loader2 className=\"h-5 w-5 animate-spin\" />\n                  <span>Verifiserer billett...</span>\n                </div>\n              )}\n\n              {!isScanning ? (\n                <Button onClick={startScanner} className=\"w-full h-14 text-lg\">\n                  <Camera className=\"mr-2 h-5 w-5\" />\n                  Start kamera\n                </Button>\n              ) : (\n                <Button onClick={stopScanner} variant=\"outline\" className=\"w-full h-14 text-lg bg-transparent\">\n                  Stopp kamera\n                </Button>\n              )}\n            </div>\n          ) : (\n            <form onSubmit={handleManualSubmit} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"code\" className=\"block text-sm font-bold mb-2\">\n                  üìã Bestillingsreferanse\n                </label>\n                <p className=\"text-xs text-muted-foreground mb-3\">\n                  Eksempel: THTR-20240315-A3F9\n                </p>\n                <Input\n                  id=\"code\"\n                  type=\"text\"\n                  value={manualCode}\n                  onChange={(e) => setManualCode(e.target.value)}\n                  placeholder=\"Skriv inn referanse...\"\n                  className=\"h-14 text-lg font-mono text-center uppercase\"\n                  autoFocus\n                />\n              </div>\n              <Button type=\"submit\" disabled={isProcessing || !manualCode.trim()} className=\"w-full h-14 text-lg bg-green-600 hover:bg-green-700\">\n                {isProcessing ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                    Verifiserer...\n                  </>\n                ) : (\n                  \"‚úì Verifiser billett\"\n                )}\n              </Button>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Result */}\n      {result && (\n        <Card\n          className={`border-2 ${\n            result.status === \"success\"\n              ? \"border-green-500\"\n              : result.status === \"warning\"\n                ? \"border-yellow-500\"\n                : \"border-red-500\"\n          }`}\n        >\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              {result.status === \"success\" && <CheckCircle className=\"h-6 w-6 text-green-500\" />}\n              {result.status === \"warning\" && <AlertTriangle className=\"h-6 w-6 text-yellow-500\" />}\n              {result.status === \"error\" && <XCircle className=\"h-6 w-6 text-red-500\" />}\n              {result.status === \"success\" ? \"Gyldig billett\" : result.status === \"warning\" ? \"Advarsel\" : \"Ugyldig\"}\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <Alert variant={result.status === \"error\" ? \"destructive\" : \"default\"}>\n              <AlertDescription className=\"text-lg\">{result.message}</AlertDescription>\n            </Alert>\n\n            {result.booking && (\n              <div className=\"space-y-4\">\n                <div className=\"p-4 bg-muted rounded-lg\">\n                  <p className=\"text-sm text-muted-foreground\">Kunde</p>\n                  <p className=\"text-xl font-bold\">{result.booking.customerName}</p>\n                </div>\n\n                <div className=\"p-4 bg-muted rounded-lg\">\n                  <p className=\"text-sm text-muted-foreground\">Referanse</p>\n                  <p className=\"text-lg font-mono font-semibold\">{result.booking.reference}</p>\n                </div>\n\n                <div className=\"p-4 bg-muted rounded-lg\">\n                  <p className=\"text-sm text-muted-foreground\">Forestilling</p>\n                  <p className=\"text-lg font-semibold\">{result.booking.showTitle}</p>\n                  <p className=\"text-muted-foreground\">{formatDateTime(result.booking.showDatetime)}</p>\n                </div>\n\n                <div className=\"p-4 bg-muted rounded-lg\">\n                  <p className=\"text-sm text-muted-foreground mb-2\">Seter</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {result.booking.seats.map((seat, i) => (\n                      <Badge key={i} variant=\"secondary\" className=\"text-base py-1 px-3\">\n                        {seat.section}, Rad {seat.row}, Sete {seat.number}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n\n                {result.booking.specialRequests && (\n                  <Alert>\n                    <Users className=\"h-4 w-4\" />\n                    <AlertTitle>Spesielle behov</AlertTitle>\n                    <AlertDescription>{result.booking.specialRequests}</AlertDescription>\n                  </Alert>\n                )}\n\n                {!result.booking.alreadyCheckedIn &&\n                  (result.status === \"success\" || result.status === \"warning\") &&\n                  !autoCheckIn && (\n                    <Button\n                      onClick={handleCheckIn}\n                      disabled={isProcessing}\n                      className=\"w-full h-14 text-lg bg-green-600 hover:bg-green-700\"\n                    >\n                      {isProcessing ? (\n                        <>\n                          <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                          Sjekker inn...\n                        </>\n                      ) : (\n                        <>\n                          <CheckCircle className=\"mr-2 h-5 w-5\" />\n                          Marker som sjekket inn\n                        </>\n                      )}\n                    </Button>\n                  )}\n\n                {result.booking.alreadyCheckedIn && (\n                  <div className=\"p-4 bg-green-500/10 border border-green-500 rounded-lg text-center\">\n                    <CheckCircle className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n                    <p className=\"text-green-700 dark:text-green-400 font-semibold\">Innsjekket</p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            <Button onClick={clearResult} variant=\"outline\" className=\"w-full bg-transparent\">\n              Skann neste\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}