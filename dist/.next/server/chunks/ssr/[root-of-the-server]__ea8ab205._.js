module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},67971,a=>{a.n(a.i(26435))},29171,a=>{"use strict";var b=a.i(7997),c=a.i(82248);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},97201,a=>{"use strict";function b(a){return new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}function c(a){return new Intl.DateTimeFormat("nb-NO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(new Date(a))}function d(a){return new Intl.DateTimeFormat("nb-NO",{hour:"2-digit",minute:"2-digit"}).format(new Date(a))}function e(a){return`${c(a)} kl. ${d(a)}`}a.i(54799),process.env.QR_SIGNING_SECRET,a.s(["formatDate",()=>c,"formatDateTime",()=>e,"formatPrice",()=>b,"formatTime",()=>d])},84254,a=>{"use strict";let b=(0,a.i(1269).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84254)},29534,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ClearReservationsButtonWrapper() from the server but ClearReservationsButtonWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/clear-reservations-wrapper.tsx <module evaluation>","ClearReservationsButtonWrapper");a.s(["ClearReservationsButtonWrapper",0,b])},63206,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ClearReservationsButtonWrapper() from the server but ClearReservationsButtonWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/clear-reservations-wrapper.tsx","ClearReservationsButtonWrapper");a.s(["ClearReservationsButtonWrapper",0,b])},51484,a=>{"use strict";a.i(29534);var b=a.i(63206);a.n(b)},86607,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(43888),e=a.i(10509),f=a.i(83627),g=a.i(98888),h=a.i(70806),i=a.i(79894),j=a.i(36865);let k=(0,a.i(1269).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var l=a.i(60612),m=a.i(84254),n=a.i(29171),o=a.i(43917),p=a.i(51484),q=a.i(98310),r=a.i(97201);async function s(){let a=await (0,q.getSupabaseServerClient)();try{let{count:b}=await a.from("ensembles").select("*",{count:"exact",head:!0}),{count:c}=await a.from("shows").select("*",{count:"exact",head:!0}).in("status",["scheduled","on_sale"]),{count:d}=await a.from("bookings").select("*",{count:"exact",head:!0}).eq("status","confirmed"),{data:e}=await a.from("bookings").select("total_amount_nok").eq("status","confirmed").gte("created_at",new Date(Date.now()-2592e6).toISOString()),f=e?.reduce((a,b)=>a+(b.total_amount_nok||0),0)||0;return{ensembleCount:b||0,showCount:c||0,bookingCount:d||0,monthlyRevenue:f}}catch{return{ensembleCount:0,showCount:0,bookingCount:0,monthlyRevenue:0}}}async function t(){let{ensembleCount:a,showCount:q,bookingCount:t,monthlyRevenue:u}=await s(),v=[{name:"Ensembler",href:"/admin/ensembler",icon:d.Film,description:"Administrer produksjoner"},{name:"Forestillinger",href:"/admin/forestillinger",icon:l.Calendar,description:"Administrer show"},{name:"Billettskanner",href:"/admin/scan",icon:h.QrCode,description:"Skann QR-billetter"},{name:"Bestillinger",href:"/admin/bestillinger",icon:e.Ticket,description:"Se alle bestillinger"},{name:"Brukere",href:"/admin/brukere",icon:f.Users,description:"Administrer brukere"},{name:"Venues",href:"/admin/venues",icon:g.MapPin,description:"Administrer lokaler"},{name:"Rabattkoder",href:"/admin/rabattkoder",icon:i.Tag,description:"Administrer rabatter"},{name:"Innstillinger",href:"/admin/innstillinger",icon:j.Settings,description:"Nettstedinnstillinger"}];return(0,b.jsxs)("main",{className:"container px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(p.ClearReservationsButtonWrapper,{}),(0,b.jsx)(o.Button,{asChild:!0,children:(0,b.jsxs)(c.default,{href:"/admin/ensembler/ny",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Nytt ensemble"]})})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Ensembler"}),(0,b.jsx)(d.Film,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:a}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Totalt antall produksjoner"})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Aktive forestillinger"}),(0,b.jsx)(l.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:q}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kommende show"})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"Aktive billetter"}),(0,b.jsx)(e.Ticket,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:t}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bekreftede bestillinger"})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"MÃ¥nedlig omsetning"}),(0,b.jsx)(k,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:(0,r.formatPrice)(u)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Siste 30 dager"})]})]})]}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Hurtigmeny"}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:v.map(a=>(0,b.jsx)(c.default,{href:a.href,children:(0,b.jsx)(n.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(a.icon,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:a.name}),(0,b.jsx)(n.CardDescription,{children:a.description})]})]})})})},a.href))})]})}a.s(["default",()=>t],86607)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ea8ab205._.js.map