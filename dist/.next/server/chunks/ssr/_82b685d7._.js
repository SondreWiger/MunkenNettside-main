module.exports=[12512,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","Tabs"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsContent"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsList"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsTrigger");a.s(["Tabs",0,c,"TabsContent",0,d,"TabsList",0,e,"TabsTrigger",0,f])},45362,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","Tabs"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsContent"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsList"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsTrigger");a.s(["Tabs",0,c,"TabsContent",0,d,"TabsList",0,e,"TabsTrigger",0,f])},96690,a=>{"use strict";a.i(12512);var b=a.i(45362);a.n(b)},68635,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(3236),e=a.i(95936),f=a.i(60612),g=a.i(56603),h=a.i(43888),i=a.i(76382),j=a.i(10509),k=a.i(83627),l=a.i(1269);let m=(0,l.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),n=(0,l.default)("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);var o=a.i(43917),p=a.i(29171),q=a.i(40088),r=a.i(96690),s=a.i(95796),t=a.i(61277),u=a.i(98310),v=a.i(97201);async function w(a){let b=await (0,u.getSupabaseServerClient)(),{data:c}=await b.from("ensembles").select("*").eq("slug",a).eq("is_published",!0).single();if(!c)return null;let{data:d}=await b.from("recordings").select("*").eq("ensemble_id",c.id),{data:e}=await b.from("shows").select(`
      *,
      venue:venues(*)
    `).eq("ensemble_id",c.id).in("status",["scheduled","on_sale"]).gte("show_datetime",new Date().toISOString()).order("show_datetime",{ascending:!0});return await b.from("ensembles").update({view_count:(c.view_count||0)+1}).eq("id",c.id),{ensemble:c,recordings:d||[],shows:e||[]}}async function x({params:a}){let{slug:b}=await a,c=await w(b);return c?{title:`${c.ensemble.title} | Teateret`,description:c.ensemble.synopsis_short||c.ensemble.description}:{title:"Ikke funnet | Teateret"}}function y({cast:a,title:c}){return a&&0!==a.length?(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-4",children:c}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map((a,c)=>(0,b.jsx)(p.Card,{className:"overflow-hidden",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-muted shrink-0 overflow-hidden",children:a.photo_url?(0,b.jsx)(d.default,{src:a.photo_url||"/placeholder.svg",alt:a.name,width:80,height:80,className:"object-cover w-full h-full"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)(k.Users,{className:"h-8 w-8 text-muted-foreground/50"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.role})]})]})},c))})]}):null}async function z({params:a}){let{slug:k}=await a,l=await w(k);l||(0,c.notFound)();let{ensemble:u,recordings:x,shows:z}=l,A=x.filter(a=>"yellow"===a.team),B=x.filter(a=>"blue"===a.team),C=x.length>0;return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(s.Header,{}),(0,b.jsxs)("main",{id:"hovedinnhold",className:"flex-1",children:[(0,b.jsxs)("section",{className:"relative bg-primary text-primary-foreground",children:[(0,b.jsx)("div",{className:"absolute inset-0",children:u.banner_url?(0,b.jsx)(d.default,{src:u.banner_url||"/placeholder.svg",alt:"",fill:!0,className:"object-cover opacity-30",priority:!0}):(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/80"})}),(0,b.jsx)("div",{className:"container relative px-4 py-16 md:py-24",children:(0,b.jsxs)("div",{className:"max-w-3xl",children:[u.genre&&u.genre.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:u.genre.map(a=>(0,b.jsx)(q.Badge,{variant:"secondary",className:"text-sm",children:a},a))}),(0,b.jsx)("h1",{className:"text-4xl font-bold md:text-5xl lg:text-6xl text-balance",children:u.title}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-lg text-primary-foreground/80",children:[u.year&&(0,b.jsx)("span",{children:u.year}),u.duration_minutes&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Clock,{className:"h-4 w-4"}),u.duration_minutes," min"]}),u.age_rating&&(0,b.jsx)(q.Badge,{variant:"outline",className:"border-primary-foreground/30",children:u.age_rating}),u.director&&(0,b.jsxs)("span",{children:["Regi: ",u.director]})]}),u.synopsis_short&&(0,b.jsx)("p",{className:"mt-6 text-xl text-primary-foreground/90 leading-relaxed",children:u.synopsis_short})]})})]}),(0,b.jsx)("section",{className:"border-b bg-card",children:(0,b.jsxs)("div",{className:"container px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[C&&(0,b.jsxs)(b.Fragment,{children:[A.length>0&&(0,b.jsx)(o.Button,{asChild:!0,size:"lg",className:"h-14 px-8 text-lg",children:(0,b.jsxs)(e.default,{href:`/kasse?ensemble=${u.id}&team=yellow`,children:[(0,b.jsx)(i.Play,{className:"mr-2 h-5 w-5"}),"Kjøp opptak - ",u.yellow_team_name]})}),B.length>0&&(0,b.jsx)(o.Button,{asChild:!0,size:"lg",variant:"outline",className:"h-14 px-8 text-lg bg-transparent",children:(0,b.jsxs)(e.default,{href:`/kasse?ensemble=${u.id}&team=blue`,children:[(0,b.jsx)(i.Play,{className:"mr-2 h-5 w-5"}),"Kjøp opptak - ",u.blue_team_name]})}),A.length>0&&B.length>0&&(0,b.jsx)(o.Button,{asChild:!0,size:"lg",variant:"secondary",className:"h-14 px-8 text-lg",children:(0,b.jsxs)(e.default,{href:`/kasse?ensemble=${u.id}&team=both`,children:[(0,b.jsx)(h.Film,{className:"mr-2 h-5 w-5"}),"Kjøp begge lag (spar 20%)"]})})]}),z.length>0&&(0,b.jsx)(o.Button,{asChild:!0,size:"lg",variant:C?"outline":"default",className:"h-14 px-8 text-lg",children:(0,b.jsxs)(e.default,{href:"#forestillinger",children:[(0,b.jsx)(j.Ticket,{className:"mr-2 h-5 w-5"}),"Se forestillinger (",z.length,")"]})})]}),C&&(0,b.jsxs)("p",{className:"mt-4 text-lg font-semibold text-primary",children:["Opptak fra ",(0,v.formatPrice)(u.recording_price_nok)," per lag"]})]})}),(0,b.jsx)("div",{className:"container px-4 py-12",children:(0,b.jsxs)("div",{className:"grid gap-12 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-12",children:[u.synopsis_long&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Om forestillingen"}),(0,b.jsx)("div",{className:"prose prose-lg max-w-none text-muted-foreground",children:(0,b.jsx)("p",{className:"whitespace-pre-wrap",children:u.synopsis_long})})]}),u.trailer_url&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Trailer"}),(0,b.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:(0,b.jsx)("iframe",{src:u.trailer_url,title:"Trailer",className:"w-full h-full",allowFullScreen:!0})})]}),(u.yellow_cast?.length>0||u.blue_cast?.length>0)&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Rollebesetning"}),(0,b.jsxs)(r.Tabs,{defaultValue:"yellow",className:"w-full",children:[(0,b.jsxs)(r.TabsList,{className:"grid w-full grid-cols-2 h-14",children:[(0,b.jsx)(r.TabsTrigger,{value:"yellow",className:"text-base h-12",children:u.yellow_team_name}),(0,b.jsx)(r.TabsTrigger,{value:"blue",className:"text-base h-12",children:u.blue_team_name})]}),(0,b.jsx)(r.TabsContent,{value:"yellow",className:"mt-6",children:(0,b.jsx)(y,{cast:u.yellow_cast,title:""})}),(0,b.jsx)(r.TabsContent,{value:"blue",className:"mt-6",children:(0,b.jsx)(y,{cast:u.blue_cast,title:""})})]})]}),u.crew&&u.crew.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Bak scenen"}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:u.crew.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between p-3 rounded-lg bg-muted",children:[(0,b.jsx)("span",{className:"font-medium",children:a.role}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a.name})]},c))})]}),u.press_quotes&&u.press_quotes.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Presseomtaler"}),(0,b.jsx)("div",{className:"grid gap-4",children:u.press_quotes.map((a,c)=>(0,b.jsxs)(p.Card,{className:"p-6",children:[(0,b.jsx)(n,{className:"h-8 w-8 text-primary/50 mb-4"}),(0,b.jsxs)("blockquote",{className:"text-lg italic mb-4",children:["“",a.quote,"”"]}),(0,b.jsxs)("cite",{className:"text-muted-foreground not-italic",children:["— ",a.source]})]},c))})]}),u.awards&&u.awards.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Priser og utmerkelser"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:u.awards.map((a,c)=>(0,b.jsxs)(q.Badge,{variant:"secondary",className:"text-base py-2 px-4",children:[(0,b.jsx)(m,{className:"h-4 w-4 mr-2"}),a.name," (",a.year,")"]},c))})]}),u.gallery_images&&u.gallery_images.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Galleri"}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:u.gallery_images.map((a,c)=>(0,b.jsx)("div",{className:"aspect-video relative rounded-lg overflow-hidden bg-muted",children:(0,b.jsx)(d.default,{src:a||"/placeholder.svg",alt:`Bilde ${c+1} fra ${u.title}`,fill:!0,className:"object-cover"})},c))})]})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[z.length>0&&(0,b.jsx)(p.Card,{id:"forestillinger",children:(0,b.jsxs)(p.CardContent,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Kommende forestillinger"}),(0,b.jsx)("div",{className:"space-y-4",children:z.map(a=>(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[(0,b.jsx)(f.Calendar,{className:"h-4 w-4"}),(0,v.formatDate)(a.show_datetime)]}),a.team&&(0,b.jsx)(q.Badge,{variant:"outline",className:"mb-2",children:"yellow"===a.team?u.yellow_team_name:u.blue_team_name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:a.venue?.name}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"font-semibold",children:["Fra ",(0,v.formatPrice)(a.base_price_nok)]}),(0,b.jsx)(o.Button,{asChild:!0,size:"sm",children:(0,b.jsx)(e.default,{href:`/bestill/${a.id}`,children:"Kjøp"})})]})]},a.id))})]})}),C&&(0,b.jsx)(p.Card,{children:(0,b.jsxs)(p.CardContent,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Digitale opptak"}),(0,b.jsxs)("div",{className:"space-y-4",children:[A.length>0&&(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:u.yellow_team_name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:[A.length," opptak tilgjengelig"]}),(0,b.jsx)(o.Button,{asChild:!0,size:"sm",className:"w-full",children:(0,b.jsxs)(e.default,{href:`/kasse?ensemble=${u.id}&team=yellow`,children:["Kjøp - ",(0,v.formatPrice)(u.recording_price_nok)]})})]}),B.length>0&&(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:u.blue_team_name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:[B.length," opptak tilgjengelig"]}),(0,b.jsx)(o.Button,{asChild:!0,size:"sm",variant:"outline",className:"w-full bg-transparent",children:(0,b.jsxs)(e.default,{href:`/kasse?ensemble=${u.id}&team=blue`,children:["Kjøp - ",(0,v.formatPrice)(u.recording_price_nok)]})})]})]})]})}),(0,b.jsx)(p.Card,{children:(0,b.jsxs)(p.CardContent,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Informasjon"}),(0,b.jsxs)("dl",{className:"space-y-3",children:[u.language&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Språk"}),(0,b.jsx)("dd",{className:"font-medium",children:u.language})]}),u.duration_minutes&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Varighet"}),(0,b.jsxs)("dd",{className:"font-medium",children:[u.duration_minutes," minutter"]})]}),u.premiere_date&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Premiere"}),(0,b.jsx)("dd",{className:"font-medium",children:(0,v.formatDate)(u.premiere_date)})]}),u.age_rating&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"Aldersgrense"}),(0,b.jsx)("dd",{className:"font-medium",children:u.age_rating})]})]})]})})]})]})})]}),(0,b.jsx)(t.Footer,{})]})}a.s(["default",()=>z,"dynamic",0,"force-dynamic","generateMetadata",()=>x],68635)}];

//# sourceMappingURL=_82b685d7._.js.map