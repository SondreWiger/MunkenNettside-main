(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81140,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t])},30030,e=>{"use strict";var t=e.i(71645),r=e.i(43476);function s(e,s){let n=t.createContext(s),a=e=>{let{children:s,...a}=e,i=t.useMemo(()=>a,Object.values(a));return(0,r.jsx)(n.Provider,{value:i,children:s})};return a.displayName=e+"Provider",[a,function(r){let a=t.useContext(n);if(a)return a;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function n(e,s=[]){let a=[],i=()=>{let r=a.map(e=>t.createContext(e));return function(s){let n=s?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return i.scopeName=e,[function(s,n){let i=t.createContext(n),o=a.length;a=[...a,n];let l=s=>{let{scope:n,children:a,...l}=s,c=n?.[e]?.[o]||i,d=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(c.Provider,{value:d,children:a})};return l.displayName=s+"Provider",[l,function(r,a){let l=a?.[e]?.[o]||i,c=t.useContext(l);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${s}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((t,{useScope:r,scopeName:s})=>{let n=r(e)[`__scope${s}`];return{...t,...n}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:n}),[n])}};return s.scopeName=r.scopeName,s}(i,...s)]}e.s(["createContext",()=>s,"createContextScope",()=>n])},34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},69340,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function s({prop:e,defaultProp:s,onChange:n=()=>{}}){let[a,i]=function({defaultProp:e,onChange:s}){let n=t.useState(e),[a]=n,i=t.useRef(a),o=(0,r.useCallbackRef)(s);return t.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),n}({defaultProp:s,onChange:n}),o=void 0!==e,l=o?e:a,c=(0,r.useCallbackRef)(n);return[l,t.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&c(r)}else i(t)},[o,e,i,c])]}e.s(["useControllableState",()=>s])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function s(e){let[s,n]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;n({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),s}e.s(["useSize",()=>s])},10772,e=>{"use strict";var t=e.i(71645),r=e.i(34620),s=t["useId".toString()]||(()=>void 0),n=0;function a(e){let[a,i]=t.useState(s());return(0,r.useLayoutEffect)(()=>{e||i(e=>e??String(n++))},[e]),e||(a?`radix-${a}`:"")}e.s(["useId",()=>a])},75830,e=>{"use strict";var t=e.i(71645),r=e.i(30030),s=e.i(20783),n=e.i(91918),a=e.i(43476);function i(e){let i=e+"CollectionProvider",[o,l]=(0,r.createContextScope)(i),[c,d]=o(i,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:r,children:s}=e,n=t.default.useRef(null),i=t.default.useRef(new Map).current;return(0,a.jsx)(c,{scope:r,itemMap:i,collectionRef:n,children:s})};u.displayName=i;let m=e+"CollectionSlot",f=t.default.forwardRef((e,t)=>{let{scope:r,children:i}=e,o=d(m,r),l=(0,s.useComposedRefs)(t,o.collectionRef);return(0,a.jsx)(n.Slot,{ref:l,children:i})});f.displayName=m;let p=e+"CollectionItemSlot",v="data-radix-collection-item",x=t.default.forwardRef((e,r)=>{let{scope:i,children:o,...l}=e,c=t.default.useRef(null),u=(0,s.useComposedRefs)(r,c),m=d(p,i);return t.default.useEffect(()=>(m.itemMap.set(c,{ref:c,...l}),()=>void m.itemMap.delete(c))),(0,a.jsx)(n.Slot,{...{[v]:""},ref:u,children:o})});return x.displayName=p,[{Provider:u,Slot:f,ItemSlot:x},function(r){let s=d(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${v}]`));return Array.from(s.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[s.collectionRef,s.itemMap])},l]}e.s(["createCollection",()=>i])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function s(e){let s=t.useContext(r);return e||s||"ltr"}e.s(["useDirection",()=>s])},96626,e=>{"use strict";var t=e.i(71645),r=e.i(20783),s=e.i(34620),n=e=>{var n;let i,o,{present:l,children:c}=e,d=function(e){var r,n;let[i,o]=t.useState(),l=t.useRef({}),c=t.useRef(e),d=t.useRef("none"),[u,m]=(r=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>n[e][t]??e,r));return t.useEffect(()=>{let e=a(l.current);d.current="mounted"===u?e:"none"},[u]),(0,s.useLayoutEffect)(()=>{let t=l.current,r=c.current;if(r!==e){let s=d.current,n=a(t);e?m("MOUNT"):"none"===n||t?.display==="none"?m("UNMOUNT"):r&&s!==n?m("ANIMATION_OUT"):m("UNMOUNT"),c.current=e}},[e,m]),(0,s.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let s=a(l.current).includes(r.animationName);if(r.target===i&&s&&(m("ANIMATION_END"),!c.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},s=e=>{e.target===i&&(d.current=a(l.current))};return i.addEventListener("animationstart",s),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",s),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}m("ANIMATION_END")},[i,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof c?c({present:d.isPresent}):t.Children.only(c),m=(0,r.useComposedRefs)(d.ref,(n=u,(o=(i=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?n.ref:(o=(i=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?n.props.ref:n.props.ref||n.ref));return"function"==typeof c||d.isPresent?t.cloneElement(u,{ref:m}):null};function a(e){return e?.animationName||"none"}n.displayName="Presence",e.s(["Presence",()=>n])},42727,e=>{"use strict";var t=e.i(71645),r=e.i(81140),s=e.i(75830),n=e.i(20783),a=e.i(30030),i=e.i(10772),o=e.i(48425),l=e.i(30207),c=e.i(69340),d=e.i(86318),u=e.i(43476),m="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[v,x,g]=(0,s.createCollection)(p),[h,b]=(0,a.createContextScope)(p,[g]),[y,w]=h(p),N=t.forwardRef((e,t)=>(0,u.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(j,{...e,ref:t})})}));N.displayName=p;var j=t.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:a,orientation:i,loop:p=!1,dir:v,currentTabStopId:g,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:b,onEntryFocus:w,preventScrollOnEntryFocus:N=!1,...j}=e,C=t.useRef(null),k=(0,n.useComposedRefs)(s,C),S=(0,d.useDirection)(v),[E=null,M]=(0,c.useControllableState)({prop:g,defaultProp:h,onChange:b}),[T,A]=t.useState(!1),I=(0,l.useCallbackRef)(w),O=x(a),_=t.useRef(!1),[P,L]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(m,I),()=>e.removeEventListener(m,I)},[I]),(0,u.jsx)(y,{scope:a,orientation:i,dir:S,loop:p,currentTabStopId:E,onItemFocus:t.useCallback(e=>M(e),[M]),onItemShiftTab:t.useCallback(()=>A(!0),[]),onFocusableItemAdd:t.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>L(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:T||0===P?-1:0,"data-orientation":i,...j,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(m,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=O().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),N)}}_.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>A(!1))})})}),C="RovingFocusGroupItem",k=t.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,focusable:a=!0,active:l=!1,tabStopId:c,...d}=e,m=(0,i.useId)(),f=c||m,p=w(C,n),g=p.currentTabStopId===f,h=x(n),{onFocusableItemAdd:b,onFocusableItemRemove:y}=p;return t.useEffect(()=>{if(a)return b(),()=>y()},[a,b,y]),(0,u.jsx)(v.ItemSlot,{scope:n,id:f,focusable:a,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...d,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{a?p.onItemFocus(f):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let n=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return S[n]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,s;"prev"===t&&n.reverse();let a=n.indexOf(e.currentTarget);n=p.loop?(r=n,s=a+1,r.map((e,t)=>r[(s+t)%r.length])):n.slice(a+1)}setTimeout(()=>R(n))}})})})});k.displayName=C;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>k,"Root",()=>N,"createRovingFocusGroupScope",()=>b])},93886,e=>{"use strict";let t=(0,e.i(75254).default)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);e.s(["Film",()=>t],93886)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],61911)},70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>i,"CardFooter",()=>l,"CardHeader",()=>n,"CardTitle",()=>a])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},81947,e=>{"use strict";var t=e.i(43476),r=e.i(25913),s=e.i(47163);let n=(0,r.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function a({className:e,variant:r,...a}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,s.cn)(n({variant:r}),e),...a})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-title",className:(0,s.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,s.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}e.s(["Alert",()=>a,"AlertDescription",()=>o,"AlertTitle",()=>i])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},94179,e=>{"use strict";var t=e.i(43476),r=e.i(91918),s=e.i(25913),n=e.i(47163);let a=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,asChild:i=!1,...o}){let l=i?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,n.cn)(a({variant:s}),e),...o})}e.s(["Badge",()=>i])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},27911,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),n=e.i(31278),a=e.i(61911),i=e.i(75254);let o=(0,i.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),l=(0,i.default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var c=e.i(3116),d=e.i(69638),u=e.i(67881),m=e.i(70065),f=e.i(94179),p=e.i(81947),v=e.i(20755),x=e.i(8571);function g({show:e,seats:i}){let[g,h]=(0,r.useState)(i),[b,y]=(0,r.useState)([]),[w,N]=(0,r.useState)(!1),[j,C]=(0,r.useState)(null),k=(0,s.useRouter)(),S=(0,v.getSupabaseBrowserClient)(),R=e.title||e.ensemble?.title||"Forestilling",E=e.team&&e.ensemble?"yellow"===e.team?e.ensemble.yellow_team_name:e.ensemble.blue_team_name:null;(0,r.useEffect)(()=>{let t=S.channel(`seats-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"seats",filter:`show_id=eq.${e.id}`},e=>{"UPDATE"===e.eventType&&(h(t=>t.map(t=>t.id===e.new.id?{...t,...e.new}:t)),"available"!==e.new.status&&y(t=>t.filter(t=>t.id!==e.new.id)))}).subscribe();return()=>{S.removeChannel(t)}},[e.id,S]),(0,r.useEffect)(()=>{(async()=>{let{data:t}=await S.from("seats").select("*").eq("show_id",e.id);t&&h(t)})()},[e.id,S]);let M=(0,r.useCallback)(e=>{"available"===(e.status||"").toString().toLowerCase()&&y(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])},[]),T=b.reduce((e,t)=>e+t.price_nok,0),A=g.reduce((e,t)=>(e[t.section]||(e[t.section]={}),e[t.section][t.row]||(e[t.section][t.row]=[]),e[t.section][t.row].push(t),e),{});Object.values(A).forEach(e=>{Object.values(e).forEach(e=>{e.sort((e,t)=>e.number-t.number)})});let I=async()=>{if(0===b.length)return void C("Vennligst velg minst ett sete");N(!0),C(null);try{let t=b.map(e=>e.id),r=await fetch("/api/seats/reserve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seatIds:t,showId:e.id})}),s=await r.json();if(!r.ok){let{data:t}=await S.from("seats").select("*").eq("show_id",e.id);throw t&&h(t),s.unavailableSeatIds?y(e=>e.filter(e=>!s.unavailableSeatIds.includes(e.id))):y([]),Error(s.error||"Kunne ikke reservere setene")}sessionStorage.setItem("booking",JSON.stringify({showId:e.id,seatIds:t,totalPrice:T,reservedUntil:s.reservedUntil})),k.push(`/kasse/billett?show=${e.id}`)}catch(e){C(e instanceof Error?e.message:"Noe gikk galt"),N(!1)}};return(0,t.jsx)("div",{className:"container px-4 py-8",children:(0,t.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(m.Card,{children:[(0,t.jsxs)(m.CardHeader,{children:[(0,t.jsx)(m.CardTitle,{className:"text-2xl",children:"Velg seter"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Klikk på ledige seter for å velge dem"})]}),(0,t.jsxs)(m.CardContent,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-green-500/20 border border-green-500/50"}),(0,t.jsx)("span",{className:"text-sm",children:"Ledig"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-primary"}),(0,t.jsx)("span",{className:"text-sm",children:"Valgt"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-muted border"}),(0,t.jsx)("span",{className:"text-sm",children:"Opptatt"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-yellow-500/20 border border-yellow-500/50"}),(0,t.jsx)("span",{className:"text-sm",children:"Reservert"})]})]}),(0,t.jsx)("div",{className:"mb-8 text-center",children:(0,t.jsx)("div",{className:"inline-block px-16 py-3 bg-muted rounded-t-full text-muted-foreground font-medium",children:"SCENE"})}),(0,t.jsx)("div",{className:"space-y-8",children:Object.entries(A).map(([e,r])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:e}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(r).sort(([e],[t])=>e.localeCompare(t)).map(([e,r])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-8 text-sm font-medium text-muted-foreground",children:e}),(0,t.jsx)("div",{className:"flex gap-1 flex-wrap",children:r.map(e=>{let r,s;return(0,t.jsx)("button",{onClick:()=>M(e),disabled:"available"!==(e.status||"").toString().toLowerCase(),className:`w-10 h-10 rounded text-sm font-medium transition-colors ${(r=b.some(t=>t.id===e.id),s=(e.status||"").toString().toLowerCase(),r?"bg-primary text-primary-foreground":"sold"===s?"bg-muted text-muted-foreground cursor-not-allowed":"reserved"===s?"bg-yellow-500/20 text-yellow-700 cursor-not-allowed":"blocked"===s?"bg-muted text-muted-foreground cursor-not-allowed":"bg-green-500/20 text-green-700 hover:bg-green-500/40 cursor-pointer")}`,"aria-label":`Rad ${e.row}, Sete ${e.number}, ${"available"===(e.status||"").toString().toLowerCase()?"Ledig":"Opptatt"}, ${(0,x.formatPrice)(e.price_nok)}`,children:e.number},e.id)})})]},e))})]},e))})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(m.Card,{children:(0,t.jsxs)(m.CardContent,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:R}),E&&(0,t.jsx)(f.Badge,{variant:"secondary",className:"mb-3",children:E}),(0,t.jsxs)("div",{className:"space-y-2 text-muted-foreground",children:[(0,t.jsxs)("p",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-4 w-4"}),(0,x.formatDate)(e.show_datetime)]}),(0,t.jsxs)("p",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Clock,{className:"h-4 w-4"}),"kl. ",(0,x.formatTime)(e.show_datetime)]}),e.venue&&(0,t.jsxs)("p",{className:"flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),e.venue.name]})]})]})}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsxs)(m.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Users,{className:"h-5 w-5"}),"Valgte seter (",b.length,")"]})}),(0,t.jsx)(m.CardContent,{children:b.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[b.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,t.jsxs)("span",{children:[e.section,", Rad ",e.row,", Sete ",e.number]}),(0,t.jsx)("span",{className:"font-medium",children:(0,x.formatPrice)(e.price_nok)})]},e.id)),(0,t.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-lg font-bold",children:[(0,t.jsx)("span",{children:"Totalt"}),(0,t.jsx)("span",{className:"text-primary",children:(0,x.formatPrice)(T)})]})})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"Ingen seter valgt ennå"})})]}),j&&(0,t.jsx)(p.Alert,{variant:"destructive",children:(0,t.jsx)(p.AlertDescription,{children:j})}),(0,t.jsx)(u.Button,{onClick:I,disabled:0===b.length||w,size:"lg",className:"w-full h-14 text-lg",children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Reserverer..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.CheckCircle,{className:"mr-2 h-5 w-5"}),"Gå til betaling"]})}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Setene reserveres i 10 minutter mens du fullfører bestillingen"})]})]})})}e.s(["SeatSelector",()=>g],27911)}]);